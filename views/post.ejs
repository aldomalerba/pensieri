<!DOCTYPE html>
<html lang="it">
<% include ./include/header %>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-white container fixed-top justify-content-between">
    <div class="navbar-header">
      <a href="/" class="navbar-brand">Pensieri</a>
    </div>

    <div class="navbar-nav">
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-sm-3"></div>

      <div class="col-sm-6">
        <form class="needs-validation" onsubmit="form.onInsertPost()" action="/" novalidate>
          <div class="form-group">
            <label for="txtPensiero">Pensiero:</label>
            <textarea id="txtPensiero" class="form-control" rows="4" placeholder="Il tuo pensiero..."
              oninput="form.onInputPensiero" minlength="40" required></textarea>
            <div class="invalid-feedback">
              Inserire un pensiero pi√π lungo
            </div>
          </div>
          <div class="form-group">
            <div class="grid">
              <div id="preview" class="square">
                <div class="content">
                  <div id="previewText" class="text-inner">Scrivi il tuo pensiero...</div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <div class="col-6">
              <label>Colore sfondo:</label>
              <button type="button" class="form-control color-picker-background"></button>
            </div>
            <div class="col-6">
              <label>Colore testo:</label>
              <button type="button" class="form-control color-picker-text"></button>
            </div>
          </div>
          <div class="form-group text-right">
            <button type="submit" class="btn btn-lg btn-outline-secondary">Codividi</button>
          </div>
        </form>
        <script>
          (function () {
            'use strict';
            window.addEventListener('load', function () {

              var forms = document.getElementsByClassName('needs-validation');

              var validation = Array.prototype.filter.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                  if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                  }
                  form.classList.add('was-validated');
                }, false);
              });
            }, false);
          })();
        </script>
      </div>

      <div class="col-sm-3"></div>
    </div>
  </div>

</body>
<% include ./include/scripts %>
<script src="/js/pageForm.js" type="text/javascript"></script>
<script src="/js/colorPicker.js" type="text/javascript"></script>
<% include ./include/footer %>

</html>